(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{133:function(e,t,a){e.exports=a(172)},138:function(e,t,a){},170:function(e,t,a){},172:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"AdminPage",function(){return et}),a.d(n,"Dashboard",function(){return St}),a.d(n,"Platform",function(){return kt}),a.d(n,"Creator",function(){return Mt}),a.d(n,"Common",function(){return Bt});var r=a(0),o=a.n(r),l=a(17),i=a.n(l),c=(a(138),a(9)),s=a(16),u=a(11),m=a(10),d=a(12),p=a(231),h=a(233),g=a(221),f=a(74),E=a.n(f),v=a(28),b=a.n(v),y=function(e){e?b.a.defaults.headers.common.Authorization=e:delete b.a.defaults.headers.common.Authorization},w=function(e){return function(t){t({type:"SET_RECENT_PARTS",payload:e}),console.log(e)}},C=function(e){return{type:"SET_CURRENT_USER",payload:e}},O=function(){return function(e){localStorage.removeItem("jwtToken"),y(!1),e(C({}))}},S=a(15),j=a(43),k=a(112),P=a(37),x=a(164),N={isAuthenticated:!1,user:{},loading:!1},T={},D={},R=Object(j.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_USER":return Object(P.a)({},e,{isAuthenticated:!x(t.payload),user:t.payload});case"USER_LOADING":return Object(P.a)({},e,{loading:!0});case"SET_MODEL_PATH":return Object(P.a)({},e,{data:t.payload});default:return e}},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ERRORS":return t.payload;default:return e}},parts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_RECENT_PARTS":return t.payload;default:return e}}}),A=[k.a],L=Object(j.e)(R,{},Object(j.d)(j.a.apply(void 0,A),window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__()||j.d)),_=a(202),W=a(195),V=a(198),I=a(201),M=a(203),U=a(204),B=Object(W.a)(function(){return{root:{flexGrow:1},button:{color:"white"},link:{textDecoration:"none"},title:{flexGrow:1},navText:{marginLeft:"auto",marginRight:"auto"}}});var F=Object(S.b)(function(e){return{auth:e.auth}},{logoutUser:O})(function(e){var t=B(),a=e.auth.user;return o.a.createElement("div",{className:t.root},o.a.createElement(V.a,{position:"static"},o.a.createElement(I.a,null,o.a.createElement(_.a,{to:"/",className:t.link},o.a.createElement(M.a,{className:t.button},"Home")),!a.role&&o.a.createElement(_.a,{to:"/login",className:t.link},o.a.createElement(M.a,{className:t.button},"Login")),a.role&&o.a.createElement(o.a.Fragment,null,"Guest"!==a.role&&o.a.createElement(o.a.Fragment,null,o.a.createElement(_.a,{to:"/dashboard",className:t.link},o.a.createElement(M.a,{className:t.button},"Parts")),o.a.createElement(_.a,{to:"/platform",className:t.link},o.a.createElement(M.a,{className:t.button},"Platform"))),"Admin"===a.role&&o.a.createElement(_.a,{to:"/adminpage",className:t.link},o.a.createElement(M.a,{className:t.button},"Admin")),o.a.createElement(_.a,{to:"/logout",className:t.link},o.a.createElement(M.a,{className:t.button,onClick:function(t){t.preventDefault(),e.logoutUser()}},"Logout")),o.a.createElement(U.a,{variant:"h6",className:t.navText},"Logged in as ",a.email," - ",a.role)))))}),z=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{style:{height:"75vh"},className:"container valign-wrapper"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col s12 center-align"},o.a.createElement("h4",null,"This is start of Part Libary App"))))}}]),t}(r.Component),q=a(8),G=a(232),H=a(234),Y=a(206),X=a(227),J=a(207),Z=a(223),Q=a(35),$=a.n(Q),K=a(205);function ee(){return o.a.createElement(U.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",o.a.createElement(_.a,{color:"inherit",to:"/"},"Partlibrary")," ",(new Date).getFullYear(),".")}var te={paper:{marginTop:64,display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:8,backgroundColor:"#dc004e"},form:{width:"100%",marginTop:8},submit:{marginTop:16,marginBottom:16}},ae=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).onChange=function(t){e.setState(Object(q.a)({},t.target.id,t.target.value))},e.onSubmit=function(t){t.preventDefault();var a={name:e.state.firstName+" "+e.state.lastName,email:e.state.email,password:e.state.password,password2:e.state.password2};console.log(a),e.props.registerUser(a,e.props.history)},e.state={firstName:"",lastName:"",email:"",password:"",password2:"",errors:{}},e}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&("Guest"===this.props.auth.user.role?this.props.history.push("/"):this.props.history.push("/dashboard"))}},{key:"componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors})}},{key:"render",value:function(){var e=this.state.errors;return o.a.createElement(K.a,{component:"main",maxWidth:"xs"},o.a.createElement(Y.a,null),o.a.createElement("div",{style:te.paper},o.a.createElement(H.a,{style:te.avatar},o.a.createElement($.a,null)),o.a.createElement(U.a,{component:"h1",variant:"h5"},"Sign up"),o.a.createElement("form",{style:te.form,noValidate:!0,onSubmit:this.onSubmit},o.a.createElement(J.a,{container:!0,spacing:2},o.a.createElement(J.a,{item:!0,xs:12,sm:6},o.a.createElement(X.a,{autoComplete:"fname",name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0,onChange:this.onChange,value:this.state.firstName,error:e.name})),o.a.createElement(J.a,{item:!0,xs:12,sm:6},o.a.createElement(X.a,{variant:"outlined",required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"lname",onChange:this.onChange,value:this.state.lasName,error:e.name})),o.a.createElement(J.a,{item:!0,xs:12},o.a.createElement(X.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",onChange:this.onChange,value:this.state.email,error:e.email})),o.a.createElement(J.a,{item:!0,xs:12},o.a.createElement(X.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:this.onChange,value:this.state.password,error:e.password})),o.a.createElement(J.a,{item:!0,xs:12},o.a.createElement(X.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password2",label:"Confirm Password",type:"password",id:"password2",autoComplete:"current-password",onChange:this.onChange,value:this.state.password2,error:e.password}))),o.a.createElement(M.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",style:te.submit},"Sign Up"),o.a.createElement(J.a,{container:!0,justify:"flex-end"},o.a.createElement(J.a,{item:!0},o.a.createElement(_.a,{to:"/login",variant:"body2"},"Already have an account? Sign in"))))),o.a.createElement(Z.a,{mt:5},o.a.createElement(ee,null)))}}]),t}(r.Component),ne=Object(S.b)(function(e){return{auth:e.auth,errors:e.errors}},{registerUser:function(e,t){return function(a){b.a.post("/api/users/register",e).then(function(e){return t.push("/login")}).catch(function(e){console.log(e),a({type:"GET_ERRORS",payload:e.response.data})})}}})(Object(G.a)(ae));function re(){return o.a.createElement(U.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",o.a.createElement(_.a,{color:"inherit",to:"/"},"Partlibrary")," ",(new Date).getFullYear(),".")}var oe={paper:{marginTop:64,display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:8,backgroundColor:"#dc004e"},form:{width:"100%",marginTop:8},submit:{marginBottom:16}},le=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).onChange=function(t){e.setState(Object(q.a)({},t.target.id,t.target.value))},e.onSubmit=function(t){t.preventDefault();var a={email:e.state.email,password:e.state.password};console.log(a),e.props.loginUser(a)},e.state={email:"",password:"",errors:{}},e}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&("Guest"===this.props.auth.user.role?this.props.history.push("/"):this.props.history.push("/dashboard"))}},{key:"componentWillReceiveProps",value:function(e){e.auth.isAuthenticated&&("Guest"===e.auth.user.role?this.props.history.push("/"):this.props.history.push("/dashboard"));e.errors&&this.setState({errors:e.errors})}},{key:"render",value:function(){var e=this.state.errors;return console.log(e),o.a.createElement(K.a,{component:"main",maxWidth:"xs"},o.a.createElement(Y.a,null),o.a.createElement("div",{style:oe.paper},o.a.createElement(H.a,{style:oe.avatar},o.a.createElement($.a,null)),o.a.createElement(U.a,{component:"h1",variant:"h5"},"Sign in"),o.a.createElement("form",{style:oe.form,noValidate:!0,onSubmit:this.onSubmit},o.a.createElement(X.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,onChange:this.onChange,value:this.state.email,error:e.email}),o.a.createElement(X.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:this.onChange,value:this.state.password,error:e.password}),o.a.createElement(M.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",style:oe.submit},"Sign In"),o.a.createElement(J.a,{container:!0},o.a.createElement(J.a,{item:!0,xs:!0},o.a.createElement(_.a,{to:"/forgotPassword",variant:"body2"},"Forgot password?")),o.a.createElement(J.a,{item:!0},o.a.createElement(_.a,{to:"/register",variant:"body2"},"Don't have an account? Sign Up"))))),o.a.createElement(Z.a,{mt:8},o.a.createElement(re,null)))}}]),t}(r.Component),ie=Object(S.b)(function(e){return{auth:e.auth,errors:e.errors}},{loginUser:function(e){return function(t){b.a.post("/api/users/login",e).then(function(e){var a=e.data.token;localStorage.setItem("jwtToken",a),y(a);var n=E()(a);console.log(n),t(C(n))}).catch(function(e){return t({type:"GET_ERRORS",payload:e.response.data})})}}})(le),ce=a(122),se=a(230),ue={Admin:{routes:[{component:"AdminPage",url:"/adminpage"},{component:"Dashboard",url:"/dashboard"},{component:"Platform",url:"/platform"},{component:"Creator",url:"/creator"},{component:"Creator",url:"/creator/:id/:name"}]},Eng:{routes:[{component:"Dashboard",url:"/dashboard"},{component:"Platform",url:"/platform"},{component:"Creator",url:"/creator"},{component:"Creator",url:"/creator/:id/:name"}]},Quality:{routes:[{component:"Dashboard",url:"/dashboard"},{component:"Platform",url:"/platform"},{component:"Creator",url:"/creator"},{component:"Creator",url:"/creator/:id/:name"}]},Ops:{routes:[{component:"Dashboard",url:"/dashboard"},{component:"Platform",url:"/platform"},{component:"Creator",url:"/creator"},{component:"Creator",url:"/creator/:id/:name"}]},Viewer:{routes:[{component:"Dashboard",url:"/dashboard"},{component:"Platform",url:"/platform"},{component:"Creator",url:"/creator"},{component:"Creator",url:"/creator/:id/:name"}]},Guest:{routes:[]},common:{routes:[{component:"CommonRoute",url:"/common"}]}},me=a(22),de=a.n(me),pe=a(23),he=a(69),ge=a(21),fe=a(216),Ee=a(217),ve=a(214),be=a(215),ye=a(212),we=a(229),Ce=a(213),Oe=a(238),Se=a(199),je=a(210),ke=a(236),Pe=a(224),xe=a(237),Ne=a(218),Te=function(e){b.a.post("/api/users/reset-password",e).then(function(e){console.log(e.data),window.alert("Recovery link sent to Mailbox")}).catch(function(e){console.log(e),window.alert("Error occurs while sending email")})};function De(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}var Re=[{id:"_id",numeric:!1,disablePadding:!1,label:"ID"},{id:"email",numeric:!0,disablePadding:!1,label:"Email"},{id:"firstName",numeric:!0,disablePadding:!1,label:"Fisrt Name"},{id:"lastName",numeric:!0,disablePadding:!1,label:"Last Name"},{id:"group",numeric:!0,disablePadding:!1,label:"Group"},{id:"reset",numeric:!0,disablePadding:!1,label:"Reset"}],Ae=["Admin","Eng","Quality","Ops","Viewer","Guest"],Le=function(e){var t=e.valueList,a=e.selectedValue,n=e.onChangeValue;return o.a.createElement(je.a,{style:{minWidth:100}},o.a.createElement(Pe.a,{onChange:function(e){var t=e.target.value;return n(t)},value:a,input:o.a.createElement(ke.a,{style:{height:35}})},t&&t.map(function(e,t){return o.a.createElement(xe.a,{key:"menu-".concat(t),value:e},e)})))};function _e(e){var t=e.classes,a=(e.onSelectAllClick,e.order),n=e.orderBy,r=(e.numSelected,e.rowCount,e.onRequestSort);return o.a.createElement(ye.a,{className:t.head},o.a.createElement(Ce.a,null,Re.map(function(e){return o.a.createElement(ve.a,{key:e.id,align:e.numeric?"center":"left",padding:e.disablePadding?"none":"default",sortDirection:n===e.id&&a},o.a.createElement(Oe.a,{active:n===e.id,direction:n===e.id?a:"asc",onClick:(l=e.id,function(e){r(e,l)})},e.label,n===e.id?o.a.createElement("span",{className:t.visuallyHidden},"desc"===a?"sorted descending":"sorted ascending"):null));var l})))}var We=Object(W.a)(function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1},head:{},wrapper:{position:"absolute",height:"30%",width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},loading:{right:"5vw"},checkboxLabel:{marginRight:0,color:"black"}}});var Ve=Object(S.b)(function(e){return{parts:e.parts}},{setRecentParts:w})(function(e){var t=We(),a=o.a.useState(!0),n=Object(ge.a)(a,2),l=n[0],i=n[1],c=o.a.useState([]),s=Object(ge.a)(c,2),u=s[0],m=s[1],d=o.a.useState("asc"),p=Object(ge.a)(d,2),h=p[0],g=p[1],f=o.a.useState("calories"),E=Object(ge.a)(f,2),v=E[0],b=E[1],y=o.a.useState([]),w=Object(ge.a)(y,2),C=w[0],O=w[1],S=o.a.useState(0),j=Object(ge.a)(S,2),k=j[0],P=j[1],x=o.a.useState(5),N=Object(ge.a)(x,2),T=N[0],D=N[1];Object(r.useEffect)(function(){fetch("/api/users/getusers").then(function(e){return e.json()}).then(function(e){console.log(e),i(!1),m(e)})},[]);var R=T-Math.min(T,u.length-k*T);return o.a.createElement(Se.a,{className:t.paper,elevation:5},o.a.createElement(be.a,null,o.a.createElement(fe.a,{className:t.table,"aria-labelledby":"tableTitle",size:"medium","aria-label":"enhanced table"},o.a.createElement(_e,{classes:t,numSelected:C.length,order:h,orderBy:v,onSelectAllClick:function(e){if(e.target.checked){var t=u.map(function(e){return e._id});O(t)}else O([])},onRequestSort:function(e,t){g(v===t&&"asc"===h?"desc":"asc"),b(t)},rowCount:u.length}),o.a.createElement(Ee.a,null,l&&o.a.createElement(Ce.a,{className:"".concat(t.wrapper," ").concat(t.loading)},o.a.createElement(Ne.a,null)),function(e,t){var a=e.map(function(e,t){return[e,t]});return a.sort(function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]}),a.map(function(e){return e[0]})}(u,function(e,t){return"desc"===e?function(e,a){return De(e,a,t)}:function(e,a){return-De(e,a,t)}}(h,v)).slice(k*T,k*T+T).map(function(e,t){var a,n=(a=e._id,-1!==C.indexOf(a)),r="enhanced-table-checkbox-".concat(t);return o.a.createElement(Ce.a,{hover:!0,onClick:function(t){e._id},role:"checkbox","aria-checked":n,tabIndex:-1,key:e._id,selected:n},o.a.createElement(ve.a,{component:"th",id:r,scope:"row",padding:"default"},t+T*k),o.a.createElement(ve.a,{align:"center"},e.email),o.a.createElement(ve.a,{align:"center"},e.firstName),o.a.createElement(ve.a,{align:"center"},e.lastName),o.a.createElement(ve.a,{align:"center"},o.a.createElement(Le,{selectedValue:e.role,valueList:Ae,onChangeValue:function(e){return function(e,t){i(!0);var a=Object(he.a)(u);a[t].role=e,m(a);var n={email:u[t].email,role:e};fetch("/api/users/updateRole",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then(function(e){return e.json()}).then(function(e){console.log("Success:",e),i(!1)}).catch(function(e){console.error("Error:",e),i(!1)})}(e,t+T*k)}})),o.a.createElement(ve.a,{align:"center",padding:"checkbox"},o.a.createElement(M.a,{variant:"contained",color:"primary",onClick:function(){return t=e.email,void Te({email:t});var t}},"Reset")))}),R>0&&o.a.createElement(Ce.a,{style:{height:53*R}},o.a.createElement(ve.a,{colSpan:6}))))),o.a.createElement(we.a,{rowsPerPageOptions:[5,10,25],component:"div",count:u.length,rowsPerPage:T,page:k,onChangePage:function(e,t){P(t)},onChangeRowsPerPage:function(e){D(parseInt(e.target.value,10)),P(0)}}))});function Ie(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}var Me=[{id:"_id",numeric:!1,disablePadding:!1,label:"ID"},{id:"partsAppName",numeric:!0,disablePadding:!1,label:"Parts App Name"},{id:"email",numeric:!0,disablePadding:!1,label:"Email"},{id:"active",numeric:!0,disablePadding:!1,label:"Active"}],Ue=["Active","Deactive"],Be=function(e){var t=e.valueList,a=e.selectedValue,n=e.onChangeValue;return o.a.createElement(je.a,{style:{minWidth:100}},o.a.createElement(Pe.a,{onChange:function(e){var t=e.target.value;return n(t)},value:a,input:o.a.createElement(ke.a,{style:{height:35}})},t&&t.map(function(e,t){return o.a.createElement(xe.a,{key:"menu-".concat(t),value:e},e)})))};function Fe(e){var t=e.classes,a=(e.onSelectAllClick,e.order),n=e.orderBy,r=(e.numSelected,e.rowCount,e.onRequestSort);return o.a.createElement(ye.a,{className:t.head},o.a.createElement(Ce.a,null,Me.map(function(e){return o.a.createElement(ve.a,{key:e.id,align:e.numeric?"center":"left",padding:e.disablePadding?"none":"default",sortDirection:n===e.id&&a},o.a.createElement(Oe.a,{active:n===e.id,direction:n===e.id?a:"asc",onClick:(l=e.id,function(e){r(e,l)})},e.label,n===e.id?o.a.createElement("span",{className:t.visuallyHidden},"desc"===a?"sorted descending":"sorted ascending"):null));var l})))}var ze=Object(W.a)(function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1},head:{},wrapper:{position:"absolute",height:"30%",width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},loading:{right:"5vw"},checkboxLabel:{marginRight:0,color:"black"}}});var qe=Object(S.b)(function(e){return{parts:e.parts}},{setRecentParts:w})(function(e){var t=ze(),a=o.a.useState(!0),n=Object(ge.a)(a,2),l=n[0],i=n[1],c=o.a.useState([]),s=Object(ge.a)(c,2),u=s[0],m=s[1],d=o.a.useState("asc"),p=Object(ge.a)(d,2),h=p[0],g=p[1],f=o.a.useState("calories"),E=Object(ge.a)(f,2),v=E[0],b=E[1],y=o.a.useState([]),w=Object(ge.a)(y,2),C=w[0],O=w[1],S=o.a.useState(0),j=Object(ge.a)(S,2),k=j[0],P=j[1],x=o.a.useState(5),N=Object(ge.a)(x,2),T=N[0],D=N[1];Object(r.useEffect)(function(){fetch("/api/data/parts").then(function(e){return e.json()}).then(function(e){console.log(e),i(!1),m(e)})},[]);var R=T-Math.min(T,u.length-k*T);return o.a.createElement(Se.a,{className:t.paper,elevation:5},o.a.createElement(be.a,null,o.a.createElement(fe.a,{className:t.table,"aria-labelledby":"tableTitle",size:"medium","aria-label":"enhanced table"},o.a.createElement(Fe,{classes:t,numSelected:C.length,order:h,orderBy:v,onSelectAllClick:function(e){if(e.target.checked){var t=u.map(function(e){return e._id});O(t)}else O([])},onRequestSort:function(e,t){g(v===t&&"asc"===h?"desc":"asc"),b(t)},rowCount:u.length}),o.a.createElement(Ee.a,null,l&&o.a.createElement(Ce.a,{className:"".concat(t.wrapper," ").concat(t.loading)},o.a.createElement(Ne.a,null)),function(e,t){var a=e.map(function(e,t){return[e,t]});return a.sort(function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]}),a.map(function(e){return e[0]})}(u,function(e,t){return"desc"===e?function(e,a){return Ie(e,a,t)}:function(e,a){return-Ie(e,a,t)}}(h,v)).slice(k*T,k*T+T).map(function(e,t){var a,n=(a=e._id,-1!==C.indexOf(a)),r="enhanced-table-checkbox-".concat(t);return o.a.createElement(Ce.a,{hover:!0,onClick:function(t){e._id},role:"checkbox","aria-checked":n,tabIndex:-1,key:e._id,selected:n},o.a.createElement(ve.a,{component:"th",id:r,scope:"row",padding:"default"},t+T*k),o.a.createElement(ve.a,{align:"center"},e.name),o.a.createElement(ve.a,{align:"center"},e.userId),o.a.createElement(ve.a,{align:"center"},o.a.createElement(Be,{selectedValue:e.role||"Active",valueList:Ue,onChangeValue:function(e){}})))}),R>0&&o.a.createElement(Ce.a,{style:{height:53*R}},o.a.createElement(ve.a,{colSpan:6}))))),o.a.createElement(we.a,{rowsPerPageOptions:[5,10,25],component:"div",count:u.length,rowsPerPage:T,page:k,onChangePage:function(e,t){P(t)},onChangeRowsPerPage:function(e){D(parseInt(e.target.value,10)),P(0)}}))}),Ge=a(117),He=a.n(Ge),Ye=a(220),Xe={loadButton:{marginTop:40,marginBottom:"auto"},controlStyle:{margin:"0 auto",alignItems:"center",justifyContent:"center"},typeSelect:{minWidth:200,marginTop:10,marginBottom:10},tag:{height:40,margin:10},saveForm:{marginTop:40},confirmButton:{marginTop:20,marginLeft:"20%"}},Je=function(e){var t=e.title,a=e.valueList,n=e.width,r=e.selectedValue,l=e.onChangeValue;return o.a.createElement(je.a,{style:Xe.typeSelect},o.a.createElement(Ye.a,{style:{marginRight:0,whiteSpace:"nowrap"},control:o.a.createElement(Pe.a,{onChange:function(e){var t=e.target.value;return l(t)},value:r,input:o.a.createElement(ke.a,{style:Object(P.a)({height:35,width:n},Xe.tag)})},a&&a.map(function(e,t){return o.a.createElement(xe.a,{key:"menu-".concat(t),value:e},e)})),label:t,labelPlacement:"start"}))},Ze=function(e){var t=e.title,a=e.value,n=e.onChangeValue;return o.a.createElement(je.a,{style:Xe.formControl},o.a.createElement(Ye.a,{style:{marginRight:0,whiteSpace:"nowrap"},control:o.a.createElement(ke.a,{style:Object(P.a)({},Xe.tag),value:a,onChange:function(e){var t=e.target.value;return n(t)}}),label:t,labelPlacement:"start"}))},Qe=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={data:null,partAppData:null,partTypes:[],currentPartType:"",currentPart:null},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=Object(pe.a)(de.a.mark(function e(){return de.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:console.log(this.props.auth);case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"displayData",value:function(e){this.setState({data:e})}},{key:"setPartAppData",value:function(e){var t=[];this.setState({partAppData:e}),e.map(function(e){t.push.apply(t,Object(he.a)(Object.keys(e)))}),this.setState({partTypes:t}),this.setState({currentPartType:t[0]}),this.setState({currentPart:e[0]}),console.log(e)}},{key:"changeCurrentPartType",value:function(e){var t=this;this.setState({currentPartType:e});var a=this.state,n=a.partAppData;a.partTypes.map(function(a,r){a.includes(e)&&t.setState({currentPart:n[r]})})}},{key:"handleFileChange",value:function(e){var t=e.target.files;if(t.length){var a=t[0],n=this,r=new FileReader;r.onload=function(e){n.displayData(e.target.result),n.setPartAppData(JSON.parse(e.target.result))},r.readAsText(a)}else alert("No file select")}},{key:"render",value:function(){var e=this,t=this.state,a=t.data,n=t.partTypes,r=t.currentPartType,l=t.currentPart,i=this.props.auth.user;return o.a.createElement(J.a,{container:!0,style:{height:"93vh"}},o.a.createElement(J.a,{item:!0,xs:12},o.a.createElement("input",{hidden:!0,accept:".json",id:"outlined-button-file",name:"file",type:"file",onChange:function(t){return e.handleFileChange(t)}}),o.a.createElement("label",{htmlFor:"outlined-button-file"},o.a.createElement(M.a,{variant:"contained",color:"default",component:"span",style:Xe.loadButton,startIcon:o.a.createElement(He.a,null)},"Load Part App Configuration(.json)"))),o.a.createElement(J.a,{item:!0,xs:5},o.a.createElement(U.a,{variant:"h6",component:"h6"},"Text Preview"),o.a.createElement(X.a,{id:"outlined-multiline-static",type:"text",fullWidth:!0,defaultValue:a,multiline:!0,rows:35,variant:"outlined"})),o.a.createElement(J.a,{container:!0,item:!0,xs:7},o.a.createElement(J.a,{item:!0,xs:10,style:Xe.controlStyle},o.a.createElement(U.a,{variant:"h6",component:"h6"},"Tag Preview"),o.a.createElement(Je,{selectedValue:r,valueList:n,onChangeValue:function(t){return e.changeCurrentPartType(t)}}),o.a.createElement(J.a,{item:!0,xs:12},l&&o.a.createElement(Ze,{title:"Name",value:l[r].Name,onChangeValue:function(t){return e.displayData(a)}}),!l&&o.a.createElement(Ze,{title:"Name",value:"",onChangeValue:function(t){return e.displayData(a)}})),o.a.createElement(J.a,{item:!0,xs:12},l&&o.a.createElement(Je,{title:"Param",selectedValue:l[r].Param[0],valueList:Object(he.a)(l[r].Param),width:223,onChangeValue:function(t){return e.displayData(a)}}),!l&&o.a.createElement(Je,{title:"Param",selectedValue:"",valueList:[],width:223,onChangeValue:function(t){return e.displayData(a)}})),o.a.createElement(J.a,{item:!0,xs:12},l&&o.a.createElement(Ze,{title:"Machine",value:l[r].Machine,onChangeValue:function(t){return e.displayData(a)}}),!l&&o.a.createElement(Ze,{title:"Machine",value:"",onChangeValue:function(t){return e.displayData(a)}})),o.a.createElement(J.a,{item:!0,xs:12,style:Xe.saveForm},o.a.createElement(U.a,{variant:"h6",component:"h6"},"Admin User: ",i.email)),o.a.createElement(J.a,{item:!0,xs:12},o.a.createElement(je.a,{style:Xe.formControl},o.a.createElement(Ye.a,{style:{marginRight:0,whiteSpace:"nowrap"},control:o.a.createElement(ke.a,{id:"outlined-password-input",type:"password",style:Xe.tag,autoComplete:"current-password",variant:"outlined"}),label:"Password",labelPlacement:"start"}))),o.a.createElement(J.a,{item:!0,xs:12},o.a.createElement(M.a,{variant:"outlined",color:"primary",style:Xe.confirmButton},"Confirm and Save")))))}}]),t}(r.Component),$e=Object(S.b)(function(e){return{auth:e.auth}})(Qe),Ke=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).changePane=function(e){a.setState({pane:e})},a.changePartsSetting=function(e){a.setState({partsSetting:e})},a.onLogoutClick=function(e){e.preventDefault(),a.props.logoutUser()},a.state={pane:"userControl",partsSetting:"add"},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=Object(pe.a)(de.a.mark(function e(){return de.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:console.log(this.props.auth);case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.auth.user,a=this.state,n=a.pane,r=a.partsSetting;return o.a.createElement(J.a,{container:!0,style:{height:"93vh"}},"userControl"===n&&o.a.createElement(J.a,{item:!0,xs:9,style:{margin:"auto"}},o.a.createElement(Ve,null)),"partsSetting"===n&&o.a.createElement(o.a.Fragment,null,o.a.createElement(J.a,{item:!0,xs:8,style:{margin:"auto"}},"view"===r&&o.a.createElement(qe,null),"add"===r&&o.a.createElement($e,null)),o.a.createElement(J.a,{container:!0,item:!0,xs:1,style:{borderStyle:"inset"}},o.a.createElement(J.a,{item:!0,xs:12},o.a.createElement(M.a,{id:"view",variant:"outlined",component:"span",style:{width:"100%"},onClick:function(){return e.changePartsSetting("view")}},"View"),o.a.createElement(M.a,{id:"add",variant:"outlined",component:"span",style:{width:"100%"},onClick:function(){return e.changePartsSetting("add")}},"Add")))),"platformSetting"===n&&o.a.createElement(J.a,{item:!0,xs:9,style:{margin:"auto"}},o.a.createElement(Ve,{user:t.email})),o.a.createElement(J.a,{container:!0,item:!0,xs:2,style:{borderStyle:"inset"}},o.a.createElement(J.a,{item:!0,xs:12},o.a.createElement(M.a,{id:"userControl",variant:"outlined",component:"span",style:{width:"100%"},onClick:function(){return e.changePane("userControl")}},"User Management"),o.a.createElement(M.a,{id:"partsSetting",variant:"outlined",component:"span",style:{width:"100%"},onClick:function(){return e.changePane("partsSetting")}},"Parts App Settings"),o.a.createElement(M.a,{id:"platformSetting",variant:"outlined",component:"span",style:{width:"100%"},onClick:function(){return e.changePane("platformSetting")}},"Platform App Settings"))))}}]),t}(r.Component),et=Object(S.b)(function(e){return{auth:e.auth}},{logoutUser:O})(Ke),tt=Object(W.a)(function(e){return{root:{display:"flex",flexWrap:"wrap","& > *":{margin:e.spacing(2),width:e.spacing(25),height:e.spacing(25)}},button:{width:e.spacing(25),height:e.spacing(25),fontSize:20},link:{textDecoration:"none"}}});var at=Object(S.b)(function(e){return{parts:e.parts}})(function(e){var t=tt(),a=e.parts;return o.a.createElement("div",{className:t.root},o.a.createElement(Se.a,{elevation:5},o.a.createElement(_.a,{to:"/creator",className:t.link},o.a.createElement(M.a,{className:t.button},"Create"))),a&&a[2]&&o.a.createElement(Se.a,{elevation:5},o.a.createElement(_.a,{to:"/creator/".concat(a[2]._id,"/").concat(a[2].name),className:t.link},o.a.createElement(M.a,{className:t.button},a[2].name))),a&&a[1]&&o.a.createElement(Se.a,{elevation:5},o.a.createElement(_.a,{to:"/creator/".concat(a[1]._id,"/").concat(a[1].name),className:t.link},o.a.createElement(M.a,{className:t.button},a[1].name))),a&&a[0]&&o.a.createElement(Se.a,{elevation:5},o.a.createElement(_.a,{to:"/creator/".concat(a[0]._id,"/").concat(a[0].name),className:t.link},o.a.createElement(M.a,{className:t.button},a[0].name))))}),nt=a(4),rt=a(20),ot=a(226),lt=a(219),it=a(239),ct=a(119),st=a.n(ct),ut=a(83),mt=a.n(ut),dt=a(120),pt=a.n(dt);function ht(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}var gt=[{id:"_id",numeric:!1,disablePadding:!1,label:"Part ID(job title)"},{id:"date",numeric:!0,disablePadding:!1,label:"Date"},{id:"userId",numeric:!0,disablePadding:!1,label:"User ID"}];function ft(e){var t=e.classes,a=e.onSelectAllClick,n=e.order,r=e.orderBy,l=e.numSelected,i=e.rowCount,c=e.onRequestSort;return o.a.createElement(ye.a,{className:t.head},o.a.createElement(Ce.a,null,gt.map(function(e){return o.a.createElement(ve.a,{key:e.id,align:e.numeric?"center":"left",padding:e.disablePadding?"none":"default",sortDirection:r===e.id&&n},o.a.createElement(Oe.a,{active:r===e.id,direction:r===e.id?n:"asc",onClick:(a=e.id,function(e){c(e,a)})},e.label,r===e.id?o.a.createElement("span",{className:t.visuallyHidden},"desc"===n?"sorted descending":"sorted ascending"):null));var a}),o.a.createElement(ve.a,{padding:"checkbox"},o.a.createElement(Ye.a,{className:t.checkboxLabel,value:"start",control:o.a.createElement(ot.a,{indeterminate:l>0&&l<i,checked:i>0&&l===i,onChange:a,inputProps:{"aria-label":"select all desserts"}}),label:"Edit",labelPlacement:"start"}))))}var Et=Object(W.a)(function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(rt.d)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}}}),vt=function(e){var t=Et(),a=e.numSelected;return o.a.createElement(I.a,{className:Object(nt.a)(t.root,Object(q.a)({},t.highlight,a>0))},a>0?o.a.createElement(U.a,{className:t.title,color:"inherit",variant:"subtitle1"},a," selected"):o.a.createElement(U.a,{className:t.title,variant:"h6",id:"tableTitle"},"Data Table"),a>0?o.a.createElement(it.a,{title:"Delete"},o.a.createElement(lt.a,{"aria-label":"delete"},o.a.createElement(mt.a,null))):o.a.createElement(it.a,{title:"Filter list"},o.a.createElement(lt.a,{"aria-label":"filter list"},o.a.createElement(st.a,null))))},bt=Object(W.a)(function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1},head:{},wrapper:{position:"absolute",height:"30%",width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},loading:{top:30},checkboxLabel:{marginRight:0,color:"black"}}});var yt,wt,Ct=Object(S.b)(function(e){return{parts:e.parts}},{setRecentParts:w})(function(e){var t=bt(),a=o.a.useState(!0),n=Object(ge.a)(a,2),l=n[0],i=n[1],c=o.a.useState([]),s=Object(ge.a)(c,2),u=s[0],m=s[1],d=o.a.useState("asc"),p=Object(ge.a)(d,2),h=p[0],g=p[1],f=o.a.useState("calories"),E=Object(ge.a)(f,2),v=E[0],b=E[1],y=o.a.useState([]),w=Object(ge.a)(y,2),C=w[0],O=w[1],S=o.a.useState(0),j=Object(ge.a)(S,2),k=j[0],P=j[1],x=o.a.useState(5),N=Object(ge.a)(x,2),T=N[0],D=N[1];Object(r.useEffect)(function(){fetch("/api/data/parts").then(function(e){return e.json()}).then(function(t){var a;console.log(t),a=t.length<4?t:t.slice(t.length-3),e.setRecentParts(a),i(!1),m(t)})},[]);var R=T-Math.min(T,u.length-k*T);return o.a.createElement(Se.a,{className:t.paper,elevation:5},o.a.createElement(vt,{numSelected:C.length}),o.a.createElement(be.a,null,o.a.createElement(fe.a,{className:t.table,"aria-labelledby":"tableTitle",size:"medium","aria-label":"enhanced table"},o.a.createElement(ft,{classes:t,numSelected:C.length,order:h,orderBy:v,onSelectAllClick:function(e){if(e.target.checked){var t=u.map(function(e){return e._id});O(t)}else O([])},onRequestSort:function(e,t){g(v===t&&"asc"===h?"desc":"asc"),b(t)},rowCount:u.length}),o.a.createElement(Ee.a,null,l&&o.a.createElement(Ce.a,{className:t.wrapper},o.a.createElement(Ne.a,{className:t.loading})),function(e,t){var a=e.map(function(e,t){return[e,t]});return a.sort(function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]}),a.map(function(e){return e[0]})}(u,function(e,t){return"desc"===e?function(e,a){return ht(e,a,t)}:function(e,a){return-ht(e,a,t)}}(h,v)).slice(k*T,k*T+T).map(function(e,a){var n,r=(n=e._id,-1!==C.indexOf(n)),l="enhanced-table-checkbox-".concat(a);return o.a.createElement(Ce.a,{hover:!0,onClick:function(t){return function(e,t){var a=C.indexOf(t),n=[];-1===a?n=n.concat(C,t):0===a?n=n.concat(C.slice(1)):a===C.length-1?n=n.concat(C.slice(0,-1)):a>0&&(n=n.concat(C.slice(0,a),C.slice(a+1))),O(n)}(0,e._id)},role:"checkbox","aria-checked":r,tabIndex:-1,key:e._id,selected:r},o.a.createElement(ve.a,{component:"th",id:l,scope:"row",padding:"default"},e.name),o.a.createElement(ve.a,{align:"center"},e.date),o.a.createElement(ve.a,{align:"center"},e.userId),o.a.createElement(ve.a,{align:"right",padding:"checkbox"},o.a.createElement(_.a,{to:"/creator/".concat(e._id,"/").concat(e.name),className:t.link},o.a.createElement(pt.a,null))))}),R>0&&o.a.createElement(Ce.a,{style:{height:53*R}},o.a.createElement(ve.a,{colSpan:6}))))),o.a.createElement(we.a,{rowsPerPageOptions:[5,10,25],component:"div",count:u.length,rowsPerPage:T,page:k,onChangePage:function(e,t){P(t)},onChangeRowsPerPage:function(e){D(parseInt(e.target.value,10)),P(0)}}))}),Ot=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).onLogoutClick=function(e){e.preventDefault(),a.props.logoutUser()},a.state={tableRows:[]},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=Object(pe.a)(de.a.mark(function e(){return de.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:console.log("this.props.auth"),console.log(this.props.auth);case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){this.props.auth.user;return o.a.createElement("div",{className:"container valign-wrapper"},o.a.createElement(J.a,{container:!0,spacing:3},o.a.createElement(J.a,{item:!0,xs:12},o.a.createElement(at,null)),o.a.createElement(J.a,{item:!0,xs:12},o.a.createElement(Ct,null))))}}]),t}(r.Component),St=Object(S.b)(function(e){return{auth:e.auth}},{logoutUser:O})(Ot),jt=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).onLogoutClick=function(e){e.preventDefault(),a.props.logoutUser()},a.state={tableRows:[]},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=Object(pe.a)(de.a.mark(function e(){return de.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:console.log("this.props.auth"),console.log(this.props.auth);case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return o.a.createElement("div",{className:"container valign-wrapper"},o.a.createElement(J.a,{container:!0,spacing:3},o.a.createElement(J.a,{item:!0,xs:12},"Welcome to Platform Page!!"),o.a.createElement(J.a,{item:!0,xs:12})))}}]),t}(r.Component),kt=Object(S.b)(function(e){return{auth:e.auth}},{logoutUser:O})(jt),Pt=a(6),xt=a(121),Nt=a(5),Tt=function(e){b.a.post("/api/data/save",e).then(function(e){console.log(e.data),window.alert("Data Saved Successfully")}).catch(function(e){return window.alert("Error occurs while saving data")})},Dt=a(169)(Pt),Rt=["Type 1","Type 2","Type 3","Type 4"],At={canvas:{height:"93vh"},stlButton:{width:"60%",margin:10},girdContainer:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"auto"},pane:{maxHeight:"92vh",overflowY:"scroll"},formControl:{width:"100%",height:50,borderColor:"red"},inputSelectControl:{height:30,marginBottom:10,marginTop:10},marginControl:{marginRight:10},meshControl:{marginBottom:30},tag:{height:30,margin:10},select:{width:"100%"},partName:{marginTop:20},loadingIcon:{marginLeft:"36vw",marginTop:"43vh",position:"absolute"}},Lt=function(e){var t,a=e.title,n=e.value,r=e.onChangeValue;return"X"===a&&(t="red"),"Y"===a&&(t="lawngreen"),"Z"===a&&(t="blue"),o.a.createElement(je.a,{style:At.formControl},o.a.createElement(U.a,{align:"center",style:{color:t}},a),o.a.createElement(ke.a,{type:"number",style:Object(P.a)({},At.inputSelectControl,At.marginControl),value:n,onChange:function(e){var t=e.target.value;return r(t)}}))},_t=function(e){var t=e.title,a=e.value,n=e.onChangeValue;return o.a.createElement(je.a,{style:At.formControl},o.a.createElement(Ye.a,{style:{marginRight:0,whiteSpace:"nowrap"},control:o.a.createElement(ke.a,{style:Object(P.a)({},At.tag),value:a,onChange:function(e){var t=e.target.value;return n(t)}}),label:t,labelPlacement:"start"}))},Wt=function(e){var t=e.title,a=e.valueList,n=e.selectedValue,r=e.onChangeValue,l=e.classNames,i=l.formControl,c=l.tag,s=l.select;return o.a.createElement(je.a,{className:i},o.a.createElement(Ye.a,{style:{marginRight:0,whiteSpace:"nowrap"},control:o.a.createElement(Pe.a,{className:"".concat(c," ").concat(s),onChange:function(e){var t=e.target.value;return r(t)},value:n,input:o.a.createElement(ke.a,null)},a&&a.map(function(e,t){return o.a.createElement(xe.a,{key:"menu-".concat(t),value:e},e)})),label:t,labelPlacement:"start"}))},Vt=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).sceneSetup=function(){var e=a.el.clientWidth,t=a.el.clientHeight;yt=new Pt.Scene,(wt=new Pt.PerspectiveCamera(75,e/t,.1,1e3)).position.y=125,wt.position.z=125,wt.position.x=125,yt.rotation.x=-90*Math.PI/180,a.controls=new xt.a(wt,a.el),a.renderer=new Pt.WebGLRenderer,a.renderer.setSize(e,t),a.el.appendChild(a.renderer.domElement)},a.addCustomSceneObjects=function(){var e=new Pt.GridHelper(250,25);e.geometry.rotateX(Math.PI/2),yt.add(e);var t=new Pt.AxesHelper(130);yt.add(t);var a=[];a[0]=new Pt.PointLight(16777215,1,0),a[1]=new Pt.PointLight(16777215,1,0),a[2]=new Pt.PointLight(16777215,1,0),a[0].position.set(0,100,0),a[1].position.set(50,100,100),a[2].position.set(-50,-50,-50),yt.add(a[0]),yt.add(a[1]),yt.add(a[2])},a.startAnimationLoop=function(){a.renderer.render(yt,wt),a.requestID=window.requestAnimationFrame(a.startAnimationLoop)},a.handleWindowResize=function(){var e=a.el.clientWidth,t=a.el.clientHeight;a.renderer.setSize(e,t),wt.aspect=e/t,wt.updateProjectionMatrix()},a.saveData=function(){var e=[];a.state.meshes.map(function(t,a){var n={};n.position=t.position,n.name=t.name||"",n.filePath=t.filePath||"",n.partType=t.partType||"",n.nickName=t.nickName||"",n.tag1=t.tag1||"",n.tag2=t.tag2||"",e.push(n)});var t={partName:a.state.partName,userId:a.props.auth.user.email,meshes:e};console.log(t),Tt(t)},a.setPartName=function(e){a.setState({partName:e})},a.setXPosition=function(e,t){var n=a.state.meshes;n[t].position.x=e,a.setState(n)},a.setYPosition=function(e,t){var n=a.state.meshes;n[t].position.y=e,a.setState(n)},a.setZPosition=function(e,t){var n=a.state.meshes;n[t].position.z=e,a.setState(n)},a.setNickName=function(e,t){var n=a.state.meshes;n[t].nickName=e,a.setState(n)},a.setTag1=function(e,t){var n=a.state.meshes;n[t].tag1=e,a.setState(n)},a.setTag2=function(e,t){var n=a.state.meshes;n[t].tag2=e,a.setState(n)},a.setPartType=function(e,t){var n=a.state.meshes;n[t].partType=e,a.setState(n)},a.deleteStl=function(e){var t=a.state.meshes,n=yt.getObjectByName(t[e].name);yt.remove(n),t.splice(e,e+1),a.setState(t)},a.state={meshes:[],partName:e.partName||"",loading:!1},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.partId;this.sceneSetup(),this.addCustomSceneObjects(),this.startAnimationLoop(),window.addEventListener("resize",this.handleWindowResize),t&&(this.setState({loading:!0}),fetch("/api/data/stl/".concat(t)).then(function(e){return e.json()}).then(function(){var t=Object(pe.a)(de.a.mark(function t(a){var n;return de.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(a),n=[],t.next=4,a.map(function(t){(new Dt).load("https://cors-anywhere.herokuapp.com/".concat(t.azureURL),function(a){var r=new Pt.MeshNormalMaterial,o=new Pt.Mesh(a,r);return o.name=t.name,o.partType=t.partType,o.nickName=t.nickName,o.tag1=t.tag1,o.tag2=t.tag2,o.position.x=t.position.x,o.position.y=t.position.y,o.position.z=t.position.z,yt.add(o),n.push(o),e.setState({meshes:n}),t})});case 4:e.setState({loading:!1});case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()))}},{key:"componentWillReceiveProps",value:function(e){var t,a=this,n=this.props.auth.data||null,r=e.auth.data||null;if(n!==r&&r){var o=r.path,l=r.filename;console.log(o);var i=o.slice(7);console.log(i),(new Dt).load(i,function(e){var n=new Pt.MeshNormalMaterial,r=new Pt.Mesh(e,n);r.name=l,r.filePath=o,yt.add(r),a.setState({loading:!1}),t=yt&&yt.children.filter(function(e){return"Mesh"===e.type}),a.setState({meshes:t});var i=a.el.clientWidth,c=a.el.clientHeight;a.renderer.setSize(i,c)})}}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleWindowResize),window.cancelAnimationFrame(this.requestID),this.controls.dispose()}},{key:"handleChange",value:function(e){var t=new FormData,a=this.props.auth.user.id,n=e.target.files[0];t.append("file",n),this.props.loadingModel(a,t),this.setState({loading:!0})}},{key:"render",value:function(){var e=this,t=this.state,a=t.meshes,n=t.partName,r=t.loading;console.log(a);var l=this.props,i=l.pane,c=l.classes;return o.a.createElement(J.a,{container:!0,style:At.girdContainer},o.a.createElement(J.a,{item:!0,xs:10},r&&o.a.createElement(Ne.a,{style:At.loadingIcon,size:80}),o.a.createElement("div",{style:At.canvas,ref:function(t){return e.el=t}})),"import"===i&&o.a.createElement(J.a,{container:!0,item:!0,xs:2,direction:"row",style:At.pane},o.a.createElement(J.a,{item:!0,xs:12,align:"center"},o.a.createElement("input",{hidden:!0,accept:".stl",id:"outlined-button-file",name:"file",type:"file",onChange:function(t){return e.handleChange(t)}}),o.a.createElement("label",{htmlFor:"outlined-button-file"},o.a.createElement(M.a,{variant:"outlined",component:"span",className:c.stlButton},"Add a STL")),a.map(function(t,a){return o.a.createElement(J.a,{container:!0,item:!0,xs:12,key:a,style:At.meshControl},o.a.createElement(J.a,{item:!0,xs:12},o.a.createElement(U.a,{variant:"h5"},t.name,o.a.createElement(lt.a,{"aria-label":"delete",onClick:function(){return e.deleteStl(a)}},o.a.createElement(mt.a,{fontSize:"small"})))),o.a.createElement(J.a,{item:!0,xs:4},o.a.createElement(Lt,{title:"X",value:t.position.x,onChangeValue:function(t){return e.setXPosition(t,a)}})),o.a.createElement(J.a,{item:!0,xs:4},o.a.createElement(Lt,{title:"Y",value:t.position.y,onChangeValue:function(t){return e.setYPosition(t,a)}})),o.a.createElement(J.a,{item:!0,xs:4},o.a.createElement(Lt,{title:"Z",value:t.position.z,onChangeValue:function(t){return e.setZPosition(t,a)}})))}))),"tag"===i&&o.a.createElement(J.a,{container:!0,item:!0,xs:2,direction:"row",style:At.pane},o.a.createElement(J.a,{item:!0,xs:12,align:"center"},a.map(function(t,a){return o.a.createElement(J.a,{container:!0,item:!0,xs:12,key:a,style:At.meshControl},o.a.createElement(J.a,{item:!0,xs:12},o.a.createElement(U.a,{variant:"h5",align:"center"},t.name)),o.a.createElement(J.a,{item:!0,xs:12},o.a.createElement(Wt,{title:"Part Type",selectedValue:t.partType||"",valueList:Rt,classNames:{tag:c.tag,select:c.select,formControl:c.formControl},onChangeValue:function(t){return e.setPartType(t,a)}})),o.a.createElement(J.a,{item:!0,xs:12},o.a.createElement(_t,{title:"Nick Name",value:t.nickName,onChangeValue:function(t){return e.setNickName(t,a)}})),o.a.createElement(J.a,{item:!0,xs:12},o.a.createElement(_t,{title:"Tag 1",value:t.tag1,onChangeValue:function(t){return e.setTag1(t,a)}})),o.a.createElement(J.a,{item:!0,xs:12},o.a.createElement(_t,{title:"Tag 2",value:t.tag2,onChangeValue:function(t){return e.setTag2(t,a)}})))}))),"save"===i&&o.a.createElement(J.a,{container:!0,item:!0,xs:2,direction:"row",style:At.pane},o.a.createElement(J.a,{item:!0,xs:12,align:"center",style:At.partName},o.a.createElement(_t,{title:"Part Name",value:n,onChangeValue:function(t){return e.setPartName(t)}})),o.a.createElement(J.a,{item:!0,xs:12,align:"center"},o.a.createElement(M.a,{variant:"outlined",component:"span",className:c.stlButton,disabled:0===a.length||0===n.length,onClick:function(){return e.saveData()}},"Save Part"))))}}]),t}(r.Component),It=Object(S.b)(function(e){return{auth:e.auth}},{loadingModel:function(e,t){return function(a){b.a.post("/uploads/".concat(e),t).then(function(e){console.log(e.data),a({type:"SET_MODEL_PATH",payload:e.data})}).catch(function(e){return a({type:"GET_ERRORS",payload:e.response.data})})}}})(Object(Nt.a)(At)(Vt)),Mt=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).changePane=function(t){e.setState({pane:t})},e.state={pane:"import"},e}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.match.params,a=t.id,n=t.name;return o.a.createElement(J.a,{container:!0},o.a.createElement(J.a,{item:!0,xs:11},o.a.createElement(It,{pane:this.state.pane,partId:a,partName:n})),o.a.createElement(J.a,{container:!0,item:!0,xs:1},o.a.createElement(J.a,{item:!0,xs:12},o.a.createElement(M.a,{id:"import",variant:"outlined",component:"span",style:{width:"100%"},onClick:function(){return e.changePane("import")}},"Import STLS"),o.a.createElement(M.a,{id:"tag",variant:"outlined",component:"span",style:{width:"100%"},onClick:function(){return e.changePane("tag")}},"Tags"),o.a.createElement(M.a,{id:"save",variant:"outlined",component:"span",style:{width:"100%"},onClick:function(){return e.changePane("save")}},"Save"))))}}]),t}(r.Component),Ut=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).onLogoutClick=function(e){e.preventDefault(),a.props.logoutUser()},a.state={tableRows:[]},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=Object(pe.a)(de.a.mark(function e(){return de.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:console.log("this.props.auth"),console.log(this.props.auth);case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return o.a.createElement("div",{className:"container valign-wrapper"},o.a.createElement(J.a,{container:!0,spacing:3},o.a.createElement(J.a,{item:!0,xs:12},"Welcome to Common Page!!"),o.a.createElement(J.a,{item:!0,xs:12})))}}]),t}(r.Component),Bt=Object(S.b)(function(e){return{auth:e.auth}},{logoutUser:O})(Ut),Ft=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={test:""},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"container valign-wrapper"},o.a.createElement(J.a,{container:!0,spacing:3},o.a.createElement(J.a,{item:!0,xs:12},"This page does not exist or You have no access to this page."),o.a.createElement(J.a,{item:!0,xs:12})))}}]),t}(r.Component),zt=Object(S.b)(function(e){return{auth:e.auth}})(function(e){e.component;var t,a=e.auth;Object(ce.a)(e,["component","auth"]);return a.isAuthenticated?(t=ue[a.user.role].routes,o.a.createElement(o.a.Fragment,null,t&&t.map(function(e){return o.a.createElement(g.a,{exact:!0,key:e.url,component:n[e.component],path:"".concat(e.url)})}))):o.a.createElement(g.a,{render:function(e){return o.a.createElement(se.a,{to:"/login"})}})});function qt(){return o.a.createElement(U.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",o.a.createElement(_.a,{color:"inherit",to:"/"},"Partlibrary")," ",(new Date).getFullYear(),".")}var Gt={paper:{marginTop:64,display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:8,backgroundColor:"#dc004e"},form:{width:"100%",marginTop:8},submit:{marginBottom:16}},Ht=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).onChange=function(t){e.setState(Object(q.a)({},t.target.id,t.target.value))},e.onSubmit=function(t){t.preventDefault(),Te({email:e.state.email})},e.state={email:"",errors:{}},e}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors})}},{key:"render",value:function(){var e=this.state.errors;return console.log(e),o.a.createElement(K.a,{component:"main",maxWidth:"xs"},o.a.createElement(Y.a,null),o.a.createElement("div",{style:Gt.paper},o.a.createElement(H.a,{style:Gt.avatar},o.a.createElement($.a,null)),o.a.createElement(U.a,{component:"h1",variant:"h5"},"Reset Password"),o.a.createElement("form",{style:Gt.form,noValidate:!0,onSubmit:this.onSubmit},o.a.createElement(X.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,onChange:this.onChange,value:this.state.email,error:e.email}),o.a.createElement(M.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",style:Gt.submit},"Reset Password"))),o.a.createElement(Z.a,{mt:8},o.a.createElement(qt,null)))}}]),t}(r.Component);function Yt(){return o.a.createElement(U.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",o.a.createElement(_.a,{color:"inherit",to:"/"},"Partlibrary")," ",(new Date).getFullYear(),".")}var Xt={paper:{marginTop:64,display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:8,backgroundColor:"#dc004e"},form:{width:"100%",marginTop:8},submit:{marginTop:16,marginBottom:16}},Jt=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).onChange=function(t){e.setState(Object(q.a)({},t.target.id,t.target.value))},e.updatePassword=function(){var t=Object(pe.a)(de.a.mark(function t(a){var n,r,o,l,i;return de.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n=e.state,r=n.email,o=n.password,l=e.props.match.params.token,t.prev=3,t.next=6,b.a.put("/api/users/updatePasswordViaEmail",{email:r,password:o,resetPasswordToken:l});case 6:i=t.sent,console.log(i.data),"password updated"===i.data.message?e.setState({updated:!0,error:!1}):e.setState({updated:!1,error:!0}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),console.log(t.t0.response.data);case 14:case"end":return t.stop()}},t,null,[[3,11]])}));return function(e){return t.apply(this,arguments)}}(),e.state={email:"",password:"",password2:"",updated:!0,isLoading:!0,error:!1},e}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=Object(pe.a)(de.a.mark(function e(){var t,a;return de.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.token,e.prev=1,e.next=4,b.a.get("/api/users/reset/".concat(t));case 4:a=e.sent,console.log(a),"password reset link is valid"===a.data.message&&(this.setState({email:a.data.email,updated:!1,isLoading:!1,error:!1}),console.log(this.state)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),this.setState({updated:!1,isLoading:!1,error:!0});case 12:case"end":return e.stop()}},e,this,[[1,9]])}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors})}},{key:"render",value:function(){var e=this.state,t=e.error,a=e.password,n=e.password2,r=e.isLoading,l=e.updated;return r?o.a.createElement(K.a,{component:"main",maxWidth:"xs"},o.a.createElement(Y.a,null),o.a.createElement("div",{style:Xt.paper},o.a.createElement(H.a,{style:Xt.avatar},o.a.createElement($.a,null)),o.a.createElement(U.a,{component:"h1",variant:"h5"},"Please Wait..."),o.a.createElement(Ne.a,null)),o.a.createElement(Z.a,{mt:8},o.a.createElement(Yt,null))):t?o.a.createElement(K.a,{component:"main",maxWidth:"xs"},o.a.createElement(Y.a,null),o.a.createElement("div",{style:Xt.paper},o.a.createElement(H.a,{style:Xt.avatar},o.a.createElement($.a,null)),o.a.createElement(U.a,{component:"h1",variant:"h5"},"Password Reset Link is not valid or expired."),o.a.createElement("form",{style:Xt.form,noValidate:!0},o.a.createElement(J.a,{container:!0},o.a.createElement(J.a,{item:!0,xs:!0},o.a.createElement(_.a,{to:"/forgotPassword",variant:"body2"},"Send another reset link.")),o.a.createElement(J.a,{item:!0},o.a.createElement(_.a,{to:"/login",variant:"body2"},"Try login again"))))),o.a.createElement(Z.a,{mt:8},o.a.createElement(Yt,null))):l?o.a.createElement(K.a,{component:"main",maxWidth:"xs"},o.a.createElement(Y.a,null),o.a.createElement("div",{style:Xt.paper},o.a.createElement(H.a,{style:Xt.avatar},o.a.createElement($.a,null)),o.a.createElement(U.a,{component:"h1",variant:"h5"},"Password has been reset, please try logging in again."),o.a.createElement("form",{style:Xt.form,noValidate:!0},o.a.createElement(J.a,{container:!0},o.a.createElement(J.a,{item:!0},o.a.createElement(_.a,{to:"/login",variant:"body2"},"Login"))))),o.a.createElement(Z.a,{mt:8},o.a.createElement(Yt,null))):o.a.createElement(K.a,{component:"main",maxWidth:"xs"},o.a.createElement(Y.a,null),o.a.createElement("div",{style:Xt.paper},o.a.createElement(H.a,{style:Xt.avatar},o.a.createElement($.a,null)),o.a.createElement(U.a,{component:"h1",variant:"h5"},"Change Password"),o.a.createElement("form",{style:Xt.form,noValidate:!0,onSubmit:this.updatePassword},o.a.createElement(J.a,{container:!0,spacing:2},o.a.createElement(J.a,{item:!0,xs:12},o.a.createElement(X.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:this.onChange,value:this.state.password})),o.a.createElement(J.a,{item:!0,xs:12},o.a.createElement(X.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password2",label:"Confirm Password",type:"password",id:"password2",autoComplete:"current-password",onChange:this.onChange,value:this.state.password2}))),o.a.createElement(M.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:a!==n,style:Xt.submit},"Change Password"))),o.a.createElement(Z.a,{mt:8},o.a.createElement(Yt,null)))}}]),t}(r.Component);a(170);if(localStorage.jwtToken){var Zt=localStorage.jwtToken;y(Zt);var Qt=E()(Zt);L.dispatch(C(Qt));var $t=Date.now()/1e3;Qt.exp<$t&&(L.dispatch(O()),window.location.href="./login")}var Kt=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement(S.a,{store:L},o.a.createElement(p.a,null,o.a.createElement("div",{className:"App"},o.a.createElement(F,null),o.a.createElement(h.a,null,o.a.createElement(g.a,{exact:!0,path:"/",component:z}),o.a.createElement(g.a,{exact:!0,path:"/register",component:ne}),o.a.createElement(g.a,{exact:!0,path:"/login",component:ie}),o.a.createElement(g.a,{exact:!0,path:"/forgotPassword",component:Ht}),o.a.createElement(g.a,{exact:!0,path:"/reset/:token",component:Jt}),o.a.createElement(zt,null),o.a.createElement(g.a,{component:Ft})))))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(Kt,null),document.getElementById("root")),console.log("starting..."),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[133,2,1]]]);
//# sourceMappingURL=main.e8320e66.chunk.js.map